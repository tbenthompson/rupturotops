

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>gryphon_base &mdash; Gryphon v0.9.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Gryphon v0.9.0 documentation" href="index.html" />
    <link rel="next" title="gryphon_toolbox" href="gryphon_toolbox.html" />
    <link rel="prev" title="Gryphon documentation" href="gryphon.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="gryphon_toolbox.html" title="gryphon_toolbox"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gryphon.html" title="Gryphon documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="gryphon.html">Gryphon v0.9.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="gryphon-base">
<h1>gryphon_base<a class="headerlink" href="#gryphon-base" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gryphon_base">
<em class="property">class </em><tt class="descname">gryphon_base</tt><a class="headerlink" href="#gryphon_base" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gryphon_base.__init__">
<tt class="descclassname">gryphon_base.</tt><tt class="descname">__init__</tt><big>(</big><em>self</em>, <em>T</em>, <em>u</em>, <em>f</em>, <em>bcs=</em><span class="optional">[</span><span class="optional">]</span>, <em>tdf=</em><span class="optional">[</span><span class="optional">]</span>, <em>tdfBC=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#gryphon_base.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>For information regarding the input, see the <a class="reference internal" href="ESDIRK.html#ESDIRK" title="ESDIRK"><tt class="xref py py-func docutils literal"><span class="pre">ESDIRK()</span></tt></a>
constructor.</p>
<p>The constructor initializes the following member variables:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">u</span> <span class="o">=</span> <span class="n">u</span>                                        <span class="c"># Initial condition</span>
<span class="bp">self</span><span class="o">.</span><span class="n">bcs</span> <span class="o">=</span> <span class="n">bcs</span>                                    <span class="c"># Boundary conditions</span>
<span class="bp">self</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="n">f</span>                                        <span class="c"># Right hand side</span>
<span class="bp">self</span><span class="o">.</span><span class="n">tdf</span> <span class="o">=</span> <span class="n">tdf</span>                                    <span class="c"># Time dependent functions</span>
<span class="bp">self</span><span class="o">.</span><span class="n">tdfBC</span> <span class="o">=</span> <span class="n">tdfBC</span>                                <span class="c"># Time dependent functions on the boundary</span>
<span class="bp">self</span><span class="o">.</span><span class="n">T</span> <span class="o">=</span> <span class="n">T</span>                                        <span class="c"># Time domain</span>
<span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                                     <span class="c"># Current time</span>
<span class="bp">self</span><span class="o">.</span><span class="n">tstart</span> <span class="o">=</span> <span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                                <span class="c"># Start of domain</span>
<span class="bp">self</span><span class="o">.</span><span class="n">tend</span> <span class="o">=</span> <span class="n">T</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                           <span class="c"># End of domain</span>
<span class="bp">self</span><span class="o">.</span><span class="n">dt</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tend</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">tstart</span><span class="p">)</span><span class="o">/</span><span class="mf">1000.0</span>          <span class="c"># Initial time step</span>
<span class="bp">self</span><span class="o">.</span><span class="n">Q</span> <span class="o">=</span> <span class="n">TestFunction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">u</span><span class="o">.</span><span class="n">function_space</span><span class="p">())</span>    <span class="c"># Trial Function to rhs</span>
<span class="bp">self</span><span class="o">.</span><span class="n">U</span> <span class="o">=</span> <span class="n">TrialFunction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">u</span><span class="o">.</span><span class="n">function_space</span><span class="p">())</span>   <span class="c"># Test Function to rhs</span>
<span class="bp">self</span><span class="o">.</span><span class="n">DT</span> <span class="o">=</span> <span class="n">Constant</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>                       <span class="c"># Current step size, used in forms</span>
</pre></div>
</div>
<p>The constructor also makes a call to <a class="reference internal" href="#verifyInput" title="verifyInput"><tt class="xref py py-func docutils literal"><span class="pre">verifyInput()</span></tt></a>, checks the
size and rank of the system to solve and sets the appropriate solver
(NewtonSolver for nonlinear systems and LUSolver for linear systems).</p>
</dd></dl>

<dl class="method">
<dt id="odeError">
<tt class="descname">odeError</tt><big>(</big><em>self</em>, <em>task</em>, <em>reason</em>, <em>remedy=False</em><big>)</big><a class="headerlink" href="#odeError" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is designed to terminate the Gryphon program with an informative
error message for the user. First and foremost the error, and the reason for the error,
is printed, but if there exist a known remedy, it can be supplied via the keyword
argument <tt class="docutils literal"><span class="pre">remedy</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="ensureFolder">
<tt class="descname">ensureFolder</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#ensureFolder" title="Permalink to this definition">¶</a></dt>
<dd><p>This method ensures that the output folder specified in the parameter</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">solverObject</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s">&#39;output&#39;</span><span class="p">][</span><span class="s">&#39;path&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>exists. It does this via the built-in Python command</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">os</span><span class="o">.</span><span class="n">makedirs</span>
</pre></div>
</div>
<p>which will create the folder if it does not exist. Note that this
folder will be created relative to the current working directory. To
print your current working directory, run the commands</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="printProgress">
<tt class="descname">printProgress</tt><big>(</big><em>self</em>, <em>timeEstimate=False</em>, <em>rejectedStep=False</em><big>)</big><a class="headerlink" href="#printProgress" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is responsible for printing a progress bar to screen
if the parameter</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">solverObject</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s">&#39;verbose&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
<p>The two keyword arguments have the following interpretation:</p>
<ul class="simple">
<li>timeEstimate: This argument is a function handle which is intented to return
an estimate for the remaining run-time of the program.</li>
<li>rejectedStep: This argument must be set to <tt class="xref docutils literal"><span class="pre">True</span></tt> if the current step was rejected.</li>
</ul>
<p>Example output from this method looks like this:</p>
<div class="highlight-python"><pre>|==&gt;..................| 8.9%          t=13.3082       Completion in ~ 0:00:53
|==&gt;..................| 9.2%          t=13.8176       Completion in ~ 0:00:53
|==&gt;..................| 9.6%          t=14.3518       Completion in ~ 0:00:53
|==&gt;..................| 10.0%         t=14.9402       Completion in ~ 0:00:52
|==&gt;..................| 10.0%         t=14.9402       Step rejected, dt=0.596632
|==&gt;..................| 10.0%         t=14.9402       Step rejected, dt=0.483333
|==&gt;..................| 10.3%         t=15.404        Completion in ~ 0:00:50</pre>
</div>
<p>The time estimate will not be shown before the integration has proceeded
one percent since the estimate is based on the mean of previously
selected time steps.</p>
</dd></dl>

<dl class="method">
<dt id="verifyInput">
<tt class="descname">verifyInput</tt><big>(</big><em>self</em><big>)</big><a class="headerlink" href="#verifyInput" title="Permalink to this definition">¶</a></dt>
<dd><p>This method verifies that the user-given input is on the required
form. It returns an error in the following cases:</p>
<blockquote>
<ul class="simple">
<li>The time interval is non-positive</li>
<li>The initial function is not a <tt class="docutils literal"><span class="pre">Function</span></tt>-object</li>
<li>The right hand side is not a <tt class="docutils literal"><span class="pre">Form</span></tt>-object</li>
<li>The boundary conditions are not either <tt class="docutils literal"><span class="pre">DirichletBC</span></tt> or
<tt class="docutils literal"><span class="pre">PeriodicBC</span></tt>-objects.</li>
</ul>
</blockquote>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="gryphon.html"
                        title="previous chapter">Gryphon documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gryphon_toolbox.html"
                        title="next chapter">gryphon_toolbox</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/gryphon_base.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="gryphon_toolbox.html" title="gryphon_toolbox"
             >next</a> |</li>
        <li class="right" >
          <a href="gryphon.html" title="Gryphon documentation"
             >previous</a> |</li>
        <li><a href="gryphon.html">Gryphon v0.9.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Knut Erik Skare.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>